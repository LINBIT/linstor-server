linstor-server (1.1.1-1) experimental; urgency=medium

  [ Gabor Hernadi ]
  * DbEngine: Added JavaDoc
  * Fixed unit tests
  * EtcdMigration: Unified key building method
  * dmstats: fixed broken command
  * Gradle: shortened linstor's classpath
  * DevHandler: added exception handling for prepare-step
  * dmstats: fixed incorrect ext-cmd order when deleting volume
  * RetryTask: Cleanup successfully deleted resource
  * Create Rsc: change default layer list
  * NvmeUtils: Fixed ArrayIndexOutOfBoundsException
  * StdErrorReporter: Added username to log entries
  * RetryResourceTask: Ignore peer not connected exception

  [ Rene Peinthor ]
  * node-reconnect: Also add offline/failed nodes to the reconnector on request
  * linstorconfig: clearly state the linstorTomlFile as param

  [ Rainer Laschober ]
  * Check if HTTPS is enabled

  [ Robert Altnoeder ]
  * Add database fixes for resource definition external name entries

 -- Rene Peinthor <rene.peinthor@linbit.com>  Tue, 10 Sep 2019 14:54:20 +0200

linstor-server (1.1.0-1) experimental; urgency=medium

  [ Rene Peinthor ]
  * db/security: abstract security loader classes
  * databasetype: fix typo in etcd db type
  * dbconnectionpool: remove unnecessary DbConnectionPool usages
  * dbinitializer: introduce a database initializer interface
  * databaseinfo: pass productinfo to migrate and static only databaseinfo
  * remove unused skipHostnameCheck
  * satellite: parse satellite settings from toml file
  * StltRscApiCallHandler: set properties on all remote nodes
  * improve checkstyle rules
  * drbd-check: allow any node name for linstor nodes
  * transactionmgr: subinterface SQL transaction manager
  * signignentry: Fix nullpointer exception on getSalt() or getHash()
  * StorPoolData: correclty set snaphot supported field
  * remove old database.cfg samples
  * db/etcd: initial implementation
  * etcd: Migration_00_Init implementation

  [ Gabor Hernadi ]
  * MigrationUtils: Renamed method for better understanding
  * MigrationUtils: Unified equal handling for cases
  * MigrationUtils: Added ETCD cases
  * StorPoolApi: Added supportsSnapshot
  * IntAuthResponse: Fixed version mismatch impl error
  * NvmeUtils: Fixed typo
  * NetIf: fixed NPE for setActive
  * CheckStyle: Make more warnings suppressible
  * DbDriver: Added Database constants generator
  * SysFsHandler: cleanup caches on delete
  * NvmeUtils: Fixed potential bug with exists flag
  * LvmProvider: changed "wiping_in_progress" lv-suffix
  * SysFsHandler: not deleting entry for missing device
  * linstor-common: NVMe/PrefNic whitelisted for storPool
  * ETCDDriver: added security drivers
  * VlmDriver: added generic driver for Volumes
  * DbEngine: Added loadAll method
  * ETCDEngine: Implemented missing methods
  * SwordfishETCDDriver
  * StorageLayerETCDDriver
  * ResourceLayerETCDDriver
  * PropsConETCDDriver
  * AbsDbDriver: added generic collection to json driver
  * ResourceDefinitionDriver
  * ResourceGroupDriver
  * Renamed some DbDrivers
  * ResourceDbDriver
  * VolumeDefinitionDbDriver
  * VolumeGroupDbDriver
  * StorPoolDefinitionDbDriver
  * StorPoolDbDriver
  * NetInterfaceDbDriver
  * NodeConnectionDbDriver
  * ResourceConnectionDbDriver
  * VolumeConnectionDbDriver
  * SnapshotDefinitionDbDriver
  * SnapshotVolumeDefinitionDbDriver
  * SnapshotDataDbDriver
  * SnapshotVolumeDbDriver
  * KeyValueStoreDbDriver
  * DrbdLayerGenericDbDriver: implemented missing delete method
  * DrbdLayerETCDDriver
  * LuksLayerETCDDriver
  * NvmeLayerETCDDriver
  * TransMgr: Fixed generic provider parameter
  * CheckHealth: made the checks DB-specific
  * ETCD: fixed minor differences in migration and driver
  * ETCD: load security objects
  * ETCD: fixed loading bugs
  * StorPoolDfnDbDriver: fixed loading disklessStorPoolDfn
  * DB: fixed minor issues in common drivers
  * RscDfnDbDriver: fixed NPE
  * ETCD: fixed minor issues
  * Controller: removed dummy ETCD initializer
  * NetIfDriver: Fixed possible NPE
  * ETCD: fixed duplicated key in txn bug
  * NetIfDbDriver: (SQL) fixed wrong type when loading
  * SQL: added special call for setting blob type
  * SQL: Fixed loading blob fields
  * NVMe: Workaround to avoid hanging nvme disconnect

  [ Robert Altnoeder ]
  * External name handling fixes
  * Fix: Load external names map upon controller startup
  * Modified handling of external names
  * Added external name dump to debug command DspRscDfn
  * CtrlRscDfnApiCallHandler: Removed unused import

  [ Rainer Laschober ]
  * Add parameter 'hostnqn' in commands 'discover' and 'connect'
  * Fix grep-commands for setting device-path
  * Minor code improvements
  * Disable deletion of nvme volumes (block on controller)
  * Added checkPrefNic to storPool-create and -modify
  * Fix external call wipefs so that it really wipes the fs :)

  [Beorn Facchini]
  * Add truststore to config and HTTPS rest-api

 -- Gabor Hernadi <gabor.hernadi@linbit.com>  Fri, 30 Aug 2019 12:27:03 +0200
linstor-server (1.0.1-1) experimental; urgency=medium

  [ Rene Peinthor ]
  * migration: fix resourcegroups in postgresql

 -- Rene Peinthor <rene.peinthor@linbit.com>  Fri, 09 Aug 2019 08:48:03 +0200

linstor-server (1.0.0-1) experimental; urgency=medium

  [ Rene Peinthor ]
  * db: introduce new DatabaseException to prepare support for etcd
  * linstor.toml-example: add [http] listen_addr
  * cleanup SQLException imports
  * transactionmgr: autocommit is already set from getConnection()
  * databaseDriverInfo: Add DatabaseType enum
  * Use TransactionMgrGenerator instead of direct new
  * Rename ControllerTransactionMgrGen... to ControllerSQLTransactionMgrGen..
  * Detect database type from connection url
  * rest-api: correctly convert volume group list return
  * rest-api: add volume group delete method
  * rest-api: rename resource-group/spawn arguments
  * controller: log if linstor config was parsed
  * docker.controller: rest-bind setting is now default
  * controller: fix incorrect rest-port commandline initalization
  * rest-api: raise API version to 1.0.8, changelog, place_count default
  * rest-api: Add volume-group PUT and fix missing transaction commit
  * RscGrpDbDriver: fix broken logTrace
  * AutoSelectFilter: correclty set and get disklessonremaining
  * CtrlRscGrpApiCallHandler: fix NPE on DisklessOnRemaining
  * rest-api-docu: fix openapi errors
  * rest-api: only report the resource-group-name from resource-definition
  * rest-api: resource-definition always set resource group name
  * migration/resource_group: set upper case default resource group name
  * rest-gen: support simple allOf types
  * rest-api: create an extended ResourceWithVolumes type for /view/resources
  * satellite/resource_groups: fix missing resource def->resource group link
  * satellite/devicehandler: fix trying update sysfs setting on deleted or [...]
  * lvmprovider: prefix wipe in progress lv's with old name
  * lvmprovider: set exists before starting the async wipe
  * ctrlrscdfnhandler: throw proper error if resource group doesn't exist

  [ Gabor Hernadi ]
  * GeneridDbDriver: Renamed to DatabaseLoader
  * Moved core objects to dedicated package
  * Moved *Name and other types in dedicated packages
  * Controller: Moved repository classes do dedicated package
  * RscGrp: Added core classes
  * Cleanup and renaming
  * RscGrp: Linked RscGrp with RscDfn
  * RscGrp: Stlt now removes unused RscGrps
  * RscGrp: Added rscGrp-props wherever rscDfn-props was used
  * VlmGrp: Added vlmGrp to prioProps after vlmDfn
  * Api: Added RscGrp to RscDfn json object
  * RscGrp,spawn: added definitions_only flag
  * Proto: Removed unused proto files
  * RscGrp: Bugfixes
  * GenericDbUtils: Merged into SQLUtils
  * Fixed unit tests
  * VlmGrp: Fixed loading and listing bug
  * PropsContainer: Fixed rollback in namespaces
  * NvmeLayer: Fixed issues with setExists
  * RscGrp: Spawn now considers disklessOnRemaining
  * Logging: added LogLevel as argument and in toml
  * ExtCmd: made wait timeout configurable
  * Added info msg when no resources were spawned
  * RscDfn: create now respects rsc_group_name

 -- Rene Peinthor <rene.peinthor@linbit.com>  Thu, 08 Aug 2019 10:25:43 +0200

linstor-server (0.9.13-1) experimental; urgency=medium

  [ Rene Peinthor ]
  * taskscheduleservice: catch exception in running task
  * retryresourcestask: check if resource is deleted
  * database/mariadb: add compatibility with mariadb
  * allow node names to be matched with a search domain property
  * ctrlauthenticator: fix typo
  * ctrlapidataload: fix accessdenied on loadnode
  * InvalidKeyException: extend from LinStorRuntimeException
  * rest-api-docu: fix missing volume_number in volumes PUT
  * CmldArguments: ConfigurationDir is now returned as Path
  * grizzly-http: add exception mapper for ApiRcException
  * apicallrcimpl: shortcut to create a ApiCallRc with 1 entry
  * rest-api: add HTTPS server and new TOML config file
  * apicallrcimpl: add more shortcut functions for quit ApiCallRc creation
  * security/ldap: Add LDAP authentication support
  * linstorconfig: migrate database.cfg into linstor.toml config file
  * add linstor.toml example file
  * rest-api: raise API version to 1.0.7 and is_active to changelog
  * satellite: always create directory /var/lib/linstor
  * retrytask: Satellite now notifies the controller about failed rscs
  * devicehandlerimpl: fix abortlayerprocessing exception
  * rest-api-docu: update property documentation
  * reconnectorTask: fix task using up all db connections

  [ Robert Altnoeder ]
  * Replaced String.equals("") with .isEmpty()

  [ Beorn Facchini ]
  * Enable mutual SSL authentication for controller and satellite
  * Read SSL keystore and truststore from resolved path

  [ Roland Kammerer ]
  * debian: fix dependency for postinstall

  [ Gabor Hernadi ]
  * Eclipse: Workaround
  * SysFs: correctly removing throttle setting
  * GenericDbDriver: Added check for missing ';'
  * Luks: shred luks headers on backing device when deleting
  * DrbdLayer: added support for external metadata
  * StorageLayer: Intorduced AbsStorageVlmData
  * Drbd: Fixed NPE when using external metadata
  * Drbd: ExtMetaStorPool is now persisted to DB
  * Drbd: Add toggle disk support for external metadata
  * Migration: Fixed migration of storage pool movement
  * Snapshot: fixed bug preventing snapshot-restore
  * Drbd: ctrl reports error when ext-meta-stor-pool does not exist
  * LayerData: removed duplicated reporting of errors
  * Fixed unit tests
  * Minor typo fixes
  * FileProvider, FileThinProvider: first version
  * NotifyStorPoolApplied
  * ListVlm: Fixed reporting of thick-allocated-sizes
  * FileProvider: Added snapshot support
  * FileProvider: Added resize support
  * FileProvider: Minor bugfix when deleting a FileVolume
  * AbsStorageProvider: Added check for size of created volumes
  * FileProvider: Added fail-fast for snapshot create
  * FileProvider: minor changes in loop_device_mapper
  * Small cleanups and a typo-fix
  * Nvme: VlmData are now set to exists

  [ Rainer Laschober ]
  * Add new conn status for no stlt conn on node
  * Make addr parameter of 'n i m'-cmd optional
  * Prevent node creation without stlt conn
  * Allow node to set active stlt conn on netIf crt/mod
  * Add/Fix automatic reconnect functionality, fix lock guards

 -- Rene Peinthor <rene.peinthor@linbit.com>  Thu, 25 Jul 2019 08:15:57 +0200

linstor-server (0.9.12-1) experimental; urgency=medium

  [ Gabor Hernadi ]
  * DevMgr: Fixed deletion of multiple resources
  * Proto: Removed no longer used API entry points
  * Proto: Moved .proto files
  * DRBD: fixed `uname -n` check
  * Drbd-Proxy: Set protocol A as default
  * LvmThin: Fixed incorrectly displayed allocated size
  * Nvme,Luks: Enabled nvme op top of luks layer
  * VlmApi: Added modify props
  * Stlt: Added SysFsHandler
  * CtrlVlmApi: Removed unintentional code duplication

  [ Rene Peinthor ]
  * gradle/common: move proto files into linstor project
  * gradle: fix java generated files dependencies
  * protobuf: use map<string, string> instead of LinStorMapEntry
  * rest-api: fix NPE on grizzly service restart
  * list-errorreports: use lambdas for since/to check
  * rest-api-docu: Fix storage pool definition modify schema type
  * allow PrefNic property on Node
  * rest-api/drbdproxy: fix no response for modifyProxy
  * rest-api: add a /health uri resource for kubernetes liveness probes
  * gradle: update 3rd party libraries
  * rest-api-doc: improve changelog and push REST_API_VERSION to 1.0.6

  [ Roland Kammerer ]
  * apidiffgo.sh: add script to easy API updates
  * apidiffgo: die if subshell errors out

  [ Robert Altnoeder ]
  * Reintegrate authentication and version info
  * Sort API list in debug output

  [ Rainer Laschober ]
  * Set correct api call for modifyStorPool

 -- Rene Peinthor <rene.peinthor@linbit.com>  Tue, 25 Jun 2019 10:28:03 +0200

linstor-server (0.9.11-1) experimental; urgency=medium

  [ Gabor Hernadi ]
  * Snapshots: fixed NPE with storage-only snapshots
  * Storage: always report free spaces
  * Whitelisted LvcreateType for resource-definitions
  * LayerData: RscDfn now supports multiple instances of same kind
  * LayerData: VlmDfn now supports mulitple instances of same kind
  * LayerData: Reworked creation of layerData
  * DB: Fixed rscDfn and vlmDfn layer data loading
  * linstor-common: removed "update=rebase" from .gitmodules

  [ Rene Peinthor ]
  * logarchive: add API call on satellite and trigger on task run
  * rest-api: add user-agent information to peer
  * apiloading: Do not dynamically load event classes
  * rest-api: report exceptions on errors in flux streams
  * rest-gen.py: fix generated trailing spaces
  * devicemanager: storage pool config is already checked by update free space
  * tcpconnectorpeer: peer is not online if fullsync failed
  * storagepools: Attach apicall reports as state to StorPoolData
  * gradle-protobuf: update to 3.8 and use lite classes, runtime will follow
  * rest-api: Add safeAsyncResponse to handle ApiRcExceptions
  * internalhandler: add todos
  * gradle/protobuf: switch to javalite runtime

  [ Roland Kammerer ]
  * docker: base images on UBI
  * docker: fix lbbuild

 -- Rene Peinthor <rene.peinthor@linbit.com>  Tue, 11 Jun 2019 13:17:06 +0200

linstor-server (0.9.10-1) experimental; urgency=medium

  [ Gabor Hernadi ]
  * DevMgr: Call forget-peer when remote-rsc is deleted
  * DrbdLayer: Whitelisted DrbdCurrentGi
  * DrbdLayer: Fixed forget-peer bug
  * Partially reverted "LvsUtils now parses json output for 'lvs' and 'vgs'"

  [ Rene Peinthor ]
  * grizzly-http: try to start on ipv4 if default ipv6 start failed.
  * ErrorReporter: add a log archive method and task
  * ErrorReporter: fix possible null pointer exception

 -- Rene Peinthor <rene.peinthor@linbit.com>  Mon, 27 May 2019 13:03:42 +0200

linstor-server (0.9.9-1) experimental; urgency=medium

  [ Rene Peinthor ]
  * rest-api: enable compression
  * rest-api: add /v1/view/storage-pools and pump rest-api to 1.0.4
  * rest-api-docu: add changelog
  * rest-api: move apiToJson functions to Json class
  * rest-api: also return UUID's for linstor objects
  * rest-api-docu: add script to update the property information and update
  * rest-api-docu: update with more property info
  * rest-api-docu: fix wrong resync-after type

  [ Gabor Hernadi ]
  * Remove DRBD dependency from DISKLESS provider
  * Fixed resize and detailed size-reporting issue
  * Fixed Exception when reconnecting to peer
  * Added WaitTimeoutAfterCreate
  * Suppressed repeated exception on version-mismatch
  * Correctly set the rscName in objRef when using extName

 -- Rene Peinthor <rene.peinthor@linbit.com>  Thu, 23 May 2019 08:28:51 +0200

linstor-server (0.9.8-1) experimental; urgency=medium

  [ Gabor Hernadi ]
  * Made Node create synchonous
  * Fixed finding device path of nvme volumes
  * Fixed possible deadlock in sync node creation
  * Fixed NodeApiTests
  * LvsUtils now parses json output for 'lvs' and 'vgs'
  * Skip attemptConnection to Controller and Aux nodes
  * Added property to set --type for lvcreate

  [ Rene Peinthor ]
  * rest-api-docu: update bind interface info
  * rest-api: use generated data structures from rest-documentation
  * peeroffline: offlinepeer(controller) will display online if local
  * rest-api: rest-gen, use `default` and `required` properties
  * rest-api-docu: add default and required for ResourceDefinition.name
  * rest-api-gen: correctly generate string defaults
  * rest-api: add /v1/view/resources as a summary and raise rest-api-version

  [ Robert Altnoeder ]
  * Added length padding for concealing the length of encrypted data
  * Updated encrypted properties to use length padding

  [ Roland Kammerer ]
  * build: fix empty files for RHEL8
  * build: fix python dependency for RHEL8

 -- Rene Peinthor <rene.peinthor@linbit.com>  Thu, 16 May 2019 09:59:06 +0200

linstor-server (0.9.7-1) experimental; urgency=medium

  [ Gabor Hernadi ]
  * Added NVME-layer support for JSON API
  * Fixed formating errors reported by checkstyle
  * Fixed volume-definitions not being deleted on satellite
  * Fixed race-condition when creating vlmDfn too fast
  * Fixed AccessToDeleted StorPool
  * Added all storPools to prioProps for NVMe's PrefNic
  * Removed hardcoded "default" network interface name
  * Fixed issues when DRBD is not installed

  [ Rene Peinthor ]
  * rest-api: fix copy paste return code error
  * rest-api: add /v1/storage-pool-definitions resource
  * rest-api-docu: add nvme
  * rest-api: do not default drbd_transport_type
  * rest-api-docu: fix missing requestbody for drbdproxyenable
  * rest-api-docu: fix incorrect drbd_volumes type
  * rest-api: link to the current api version documentation
  * rest-api: bind on ipv4 and ipv6 and not local only
  * remove garbage collector task
  * reconnectortask: small code cleanup
  * commandline-args: add --version to Controller and Satellite
  * gradle: add better JVM default options

  [ Rainer Laschober ]
  * Fix minor bugs
  * Fix command parsing, merge constraints for create/delete in NvmeLayer
  * Add functionality for creating and deleting volumes while the resource is up
  * delete obsolete method, add description for class
  * add controller check for nvme rsc creation + api consts
  * Source out behavior that checks if a resource creation is valid
  * Fix nullpointer exception when rsc role is neither NVMe nor Swordfish

  [ Robert Altnoeder ]
  * Adjusted REST-API IPv6 bind address format
  * Handle exceptions during REST service initalization
  * Enable debugging failed controller startup

 -- Rene Peinthor <rene.peinthor@linbit.com>  Thu, 09 May 2019 09:16:49 +0200

linstor-server (0.9.6-1) experimental; urgency=medium

  [ Gabor Hernadi ]
  * Added OTHER_CONTROLLER internal api
  * Reject storage only diskless setups
  * Fixed wrong migration for resources without volumes
  * Fixed db NPE when loading 0 storage volumes for a resource
  * Removed unnecessary ConfigModule
  * Deletiion of resources now also update the freeSpace
  * Fixed rare NPE when applying already deleted remote resource on satellite
  * Added DbDriver for NVMe layer
  * Removed unnecessary masterKey access
  * Added missing NVMe cases in switch statements
  * Minor changes in NvmeUtils
  * Fixed some nvmet related external commands
  * Bugfix in nvme layer querying target namespaces
  * Fixed minor issues with NvmeLayer
  * NvmeLayer now supports multiple volumes per resource
  * Diskless can also be used for NVME resources

  [ Rene Peinthor ]
  * rest-api-docu: static_traits is a string->string map
  * postinstall.sh: remove very old db location migration
  * postinstall.sh: add timestamp to database backups
  * rest-api: introduce a rest_api_version field and pump minor to 1.0.1
  * storpoolisthandler: fix unhandled ApiRcExceptions
  * rest-api: specified object GETters now return a single value
  * rsc_con: improve error reporting on using non existing rsc con
  * whitelistprops: add drbd handlers on satellites
  * conffilebuilder: always quote drbd handler options
  * priorityprops: add a default variant for getProp(key,ns)
  * mkfs feature for ext4 and xfs
  * extcmdExc: fix typo

  [ Robert Altnoeder ]
  * Fixed capitalization typo in Migration_2019_04_04_Fix_LayerData_Multip [...]
  * Code cleanup: Fixed imports
  * Code cleanup: Fixed variable shadowing
  * Code cleanup: Fixed line length
  * Code cleanup: Fixed style & formatting
  * Code cleanup: Fixed variable names, adjusted modifiers
  * Code cleanup: Added fall-through comments
  * More efficient listResourceConnections() implementation
  * Set access context for REST API calls to the public context

  [ Rainer Laschober ]
  * introduce nvme layer
  * Fix namespaces and other bugs
  * Make transport type and port configurable in nvme layer, fix ip addres [...]
  * Add new rsc prop 'prefNic'
  * fix device path query on initiator, start documentation
  * add constraints in NvmeLayer.process(), fix isTargetConfigured()
  * Fix race condition for setting device path
  * minor fix, add logging for debugging

 -- Rene Peinthor <rene.peinthor@linbit.com>  Thu, 18 Apr 2019 11:14:54 +0200

linstor-server (0.9.5-1) experimental; urgency=medium

  [ Rainer Laschober ]
  * moved constructor logic to new checkVersion() method
  * checkVersion() now restores defaults values on error
  * Satellite, DrbdVersion: cosmetic changes; DrbdVersionTest: exception t [...]
  * DrbdVersionTest: overlooked a compile error
  * DrbdVersionTest: exception test added (presumably completed)
  * Satellite: added checkVersion call before Drbd9 check
  * Checks: removed checks for ipv4/-6; LsIpAddress: replaced ipAddrCheck  [...]
  * LsipAddress: fixed fatal mishap (unchecked return value of isInetAddre [...]

  [ Gabor Hernadi ]
  * Added environment checks on satellite startups
  * Updated ApiRc resolving map
  * Fixed issue with resizing non-drbd resources
  * Fixed drbdmanage migration issue
  * DrbdRscDfn.peerSlots is now modifiable
  * Fixed unit tests
  * Added layerStack and provider filter to autoplace
  * Fixed NullPointerException in StorPoolList
  * Fixed a wrong migration regarding multiple volumes per rsc
  * Fixed opening Luks after ctrl restart

  [ Rene Peinthor ]
  * rest-api: CreateNode set default satellite port on single netif
  * rest-api: fix incorrect used apiconst
  * rest-api-docu: format fixes, snapshot post at wrong location
  * luks-layer: only try once to enter passphrase and check on exit code
  * rest-api-docu: do not inline passphrase schemas
  * rest-api: return 404 if a specific rsc-dfn couldn't be found
  * conffile: generate handlers section from DrbdOptions/Handlers keys

  [ Robert Altnoeder ]
  * Add migration to fix database constraints
  * Replaced FIXMEs with a comment where the fix can be found
  * ResourceName: Added 'proxy' as a reserved keyword

 -- Rene Peinthor <rene.peinthor@linbit.com>  Mon, 08 Apr 2019 15:27:51 +0200

linstor-server (0.9.4-1) experimental; urgency=medium

  [ Rene Peinthor ]
  * rest-api: fix inconsistent error returns
  * rest-api-docu: obj_refs is also a string map
  * rest-api-docu: nodes/{node}/storage-pools missing GET parameters
  * zfs-provider: fix thin and thick storage pool detection and size query

 -- Rene Peinthor <rene.peinthor@linbit.com>  Fri, 29 Mar 2019 10:21:23 +0100

linstor-server (0.9.3-1) experimental; urgency=medium

  [ Roland Kammerer ]
  * docker: expose REST port
  * docker: bind on 0.0.0.0

  [ Rene Peinthor ]
  * gradle: source package, only store jar libraries once
  * rest-api: fix incorrect snapshot-restore-volume-definition path
  * Better error reporting on invalid database type
  * rest-api: allow the set the bind address via cmdline or env variable
  * snapshot-restore API call is now synchronous
  * packaging: remove drbd-utils from satellite requirements
  * absstorage: do not try to resize a volume if it is already at that size
  * satellite-drbdlayer: do not try to resize diskless resources
  * satellite: do not try to create linstor-resource.res if not drbd installed
  * rest-api-docu: define property values as strings
  * satellite: skip drbd check per default

  [ Gabor Hernadi ]
  * Removed deprecated checkstyle options
  * Fixed some ZfsThin related bugs
  * Fixed dispatching of DRBD-resize events
  * Setting drbd-properties for thin-sync if needed
  * Fixed parse exception when listing zfs datasets
  * LvmThinProvider now activates all needed volumes

 -- Rene Peinthor <rene.peinthor@linbit.com>  Thu, 28 Mar 2019 13:15:16 +0100

linstor-server (0.9.2-1) experimental; urgency=medium

  [ Rene Peinthor ]
  * rest-api-docu: info no server bindings and storpoolname

  [ Gabor Hernadi ]
  * Fixed incorrect persisting of layerStack to db
  * Removed duplicated layer-data from RscDfn and VlmDfn

 -- Rene Peinthor <rene.peinthor@linbit.com>  Mon, 25 Mar 2019 14:01:44 +0100

linstor-server (0.9.1-1) experimental; urgency=medium

  [ Rene Peinthor ]
  * rest-api: fix peer_slots typo
  * rest-api: fix a few inconsistencies
  * rest-api: update documentation to layer_stack changes
  * rest-api: document resource-definition external_name
  * rest-api: remove CRYPT_SETUP -> LUKS workarounds
  * rest-api: remove DRBD_DISKLESS workaround
  * rscDfn-load: do not crash on null external name
  * rest-api: add external name support for resource-definitions
  * rest-api: rename stlt_* to satellite_*
  * rest-api: suffix sizes with their units
  * rest-api: finalize rest server controller properties
  * rest-api: docu update on storage pools

  [ Gabor Hernadi ]
  * Replaced DROP and CREATE table with ALTER statements
  * Fixed small bug when migrating MariaDB
  * Fixed incorrect reporting of allocated thin-sizes
  * Fixed order of persisting layer objects of *DefinitionData
  * Renamed Crypt(Setup) to Luks
  * Renamed DrbdDiskless to Diskless
  * Fixed: Snapshots are now found again
  * Fixed Nullpointer when persisting null extName
  * Fixed (another) NPE when serializing non-stlt netIfs
  * Removed "TransactionList" from an exception message
  * Added warning that STORAGE kind was automatically added
  * Extended switches with missing enum-cases
  * Added safety check if prepare was called before process (StorageLayer)
  * Added check for valid layerstack
  * Fixed minor extName database-related bug
  * Removed some unused classes and methods
  * Added missing enum case with fall-through comment
  * Fixed incorrectly expected message
  * Fixed serialization bug for RscDfn and VlmDfn
  * Fixed missing errorMessage when devHandler catches unknown exception

  [ Rainer Laschober ]
  * Added external name functionality
  * LvmThinProvider: add missing null check for getPoolCapacity and getPoo [...]
  * LinstorConfig: replace exit codes with corresponding constants
  * relocate ExternalNameConverter, fix control flow and logic

  [ Robert Altnoeder ]
  * Fixed EXT_NAME_COMP implementation
  * Added fall-through comment to empty switch case
  * Satellite: Fixed LINSTOR node name vs. locally determined node name co [...]

 -- Rene Peinthor <rene.peinthor@linbit.com>  Mon, 25 Mar 2019 09:59:04 +0100

linstor-server (0.9.0-1) experimental; urgency=medium

  [ Rene Peinthor ]
  * gradle-tests: use powermock 2.0.0rc4 and mockito 2.23.4
  * fix resource folder leak of Files.list()
  * ControllerCoreModule: remove unused constant
  * list-api: move protobuf specific serialization to upper layer
  * reqrscconnlst: move protobuf parts to upper layer
  * api: separate public and internal API's
  * error-report: move serialization to the upper layer
  * apicallrcwith: add hasApiCallRc
  * maxvlmsize: move seralization to upper layer
  * ctrlstorpooldfnapi: remove unused injections
  * liststorpool: move serialization to upper layer
  * list-volumes: move serialization to upper layer
  * whitelistprops: prefixed keys can now be ignored
  * resource-conn: allow and check Path properties
  * fix typo
  * KeyValueStore: rename modify message field names
  * ApiCallRc: add isEmpty() and isError()
  * gradle: update all kinds of third party libs
  * keyvaluestore: load entries on startup from database
  * keyvaluestore: do not throw NPE on accessing yet non existing KV
  * storpoolapi: serialize freeSpaceMgrName
  * conffilebuilder: fix broken drbd proxy configs
  * snapshots: do not try to delete already removed snapshots
  * KeyValueStore: use Set for deletePropKeys and deleteNamespaces
  * unittests: fix nullpointer and guice related errors
  * stltfreespacemgr: fix build
  * satellite/preparedisks: PrepareDisks API
  * rename asLayerStack to asDeviceLayerKind
  * rest-api: Service startup and nodes resource
  * rest-api: Add /resource-definitions
  * rest-api: Add /resource-definitions/{rscname}/volume-definitions
  * rest-api: Add /resource-definitions/{rscname}/resources
  * rest-api: Add autoplace resource
  * rest-api: Add /nodes/{node}/storage-pools
  * rest-api: Add /error-reports resource
  * rest-api: Add /controller resource
  * rest-api: Add /encryption/passphrase resource
  * rest-api: Add /resource-definition/{rscname}/snapshots resource
  * rest-api: Add /resource-definitions/{rscname}/resource-connections resource
  * rest-api: Add /resource-definitions/{rsc}/drbd-proxy resource
  * rest-api: Add toggle-disk and migrate-disk to resource resource
  * rest-api: add volume list getter
  * rest-api: Add query-max-volume-size resource
  * rest-api: Add key-value-store resource
  * rest-api: add grizzly configuration properties
  * rest-api: add openapi documentation and an index page
  * rest-api: update to work with layer-stacks and deviceproviderkinds
  * apiversion: raise API_VERSION to 4
  * remove oneof as we have to support protobuf 2.5.0

  [ Gabor Hernadi ]
  * First version of new device manager
  * Changed submodule to BK instead of GH
  * Added basic LvmThin support (no snapshots yet)
  * Implemented feedback for new devMgr + DRBD diskless support
  * Added zfs and zfsthin support
  * Applied changes made on original DeviceManagerImpl
  * Minor refactoring
  * Added ZFS (+thin) snapshot support
  * Added objRef to responses from AbsStorageProvider
  * Added LvmThin snapshot support
  * Bug- and race-condition fixes and cleanup
  * Fixed hanging rsc-del in case of broken storPool
  * Removed debug outputs
  * LvmProvider checkConfig
  * Made Layers and DevMgr injectable
  * Redirected getFreeSpace / getTotalCapacity to new DevMgr methods
  * Fixed external command for query ThinTotalSize
  * Fixed: layeredRscHelper now also converts Resource- and VolumeConnections
  * Fixed free space reporting from LvmThin
  * Fixed some NullPointerExceptions
  * Fixed NPE when updating DRBD-diskless volume
  * Fixed: Exending vlmSize if converted rsc has DRBD type
  * Fixed: DevHandler now processes snapshots without resources if needed
  * Added Swordfish support
  * Minor cleanup
  * Fixed: Swordfish bugs
  * Fixed: implemented all "not implemented yet" methods
  * Fixed bugs in ZfsProvider and when converting resources
  * Fixed: added missing delete call
  * Fixed: removed unnecessary parameter for compatibility
  * Fixed zfs device path format for compatibility with older zfs versions
  * Added CryptLayer
  * DRBD layer now correclty reports devicePath
  * Fixed Tests
  * Updated submodule reference
  * Deleted old deviceManager and its helper classes
  * Renamed some classes
  * Fixed JUnit tests
  * Fixed false-positive warning about unknown resources
  * Minor cleanup
  * Renamed storage2 package to storage
  * Fixed priority order of preferred nics
  * Fixed bug where retCode's OP and OBJ mask was overriden
  * Added RetryResourceTask
  * Fixed: DrbdLayer now resizes volume if needed
  * Added toString methods for Transaction* classes
  * Fixed wrong resource-name case for wait-connect-resource call
  * DrbdLayer now correctly sets / uses configured maxPeerSlots
  * Split DeviceHandler#dispatchResources into sub-methods
  * Fixed missing reported FreeSpace after modifying storage pool
  * Added "HOSTNAME_MISMATCH" status to peer connection
  * Added LockGuardFactory
  * Added KeyValueStore
  * Fixed overriding controllers PlainPort for CI-tests
  * Fixed invalid input for %d formatting
  * Improved handling of out-of-order drbd-events
  * Added two more PropsContainerTest
  * Restarting events2 stream in case of Exception
  * Extract LayerdData into LayeredDataStorage
  * Removed unused classes
  * Fixed small bugs
  * Fixed: non-existent storPools now return -1 as capacity and free space
  * Added deleteNamespace for existing APIs
  * Fixed some bugs repoted by FindBugs
  * Controller now has full control over layer data
  * Fixed: NoSuchElementExc in ConfFileBuilder with volume-less resources
  * Fixed RetryResourceTask not incrementing retry-count
  * Fixed resizing bug
  * Fixed StorageLayer removing snapshots with no resources
  * Added LayerUtils
  * Reorganized protobuf messages
  * LayerData are now also deleting themselves from DB
  * Fixed access to deleted Volume
  * Added layerStack to RscDfn
  * Fix: CryptSetupLayer missing key bug
  * Small bugfixes and a workaround
  * Fixing unit tests
  * Fix: non-drbd resources now also send the ready event
  * Fix: minor number autoallocated twice
  * Fixed minor snapshot related bugs
  * Fixed toggle disk
  * Added missing TransactionList impl
  * Fixed Proxy deserialization bug
  * AutoPlaceResource: changed input type of layer_stack
  * Replaced string based storPool.driver with enum
  * Fixed "access to deleted vlmDfn"
  * Added missing DB-Migration for string-2-enum driver
  * Fixed auto-place not finding storPools
  * Fixed hung migrating drbd resource
  * Fixed unit tests
  * Fixed check of different storPool types
  * Fixed: Reconstructed LayerStack when migrating
  * Fixed NPE when serializing non-stlt netIfs

  [ Joel Colledge ]
  * ZFS 0.6.5 does not support a -o option to zpool get
  * Extract mapping from StorageDriverKind to DeviceProvider into its own class
  * Delete storage volumes when deleting resource definition
  * Restore deployment status and error responses
  * Fix removal of rollback property when rollback is successful
  * Fix RscApiTest to expect deployment modification response which is now [...]
  * Fix node lost API when the node had snapshots
  * Revert "Changed submodule to BK instead of GH"
  * Do not check current storage pool when validating whether a new volume [...]
  * Update the reactor-test version to match the reactor-core version
  * Include error report ID in error response from snapshot operations
  * Fix addition of disks
  * Fix removal of disks
  * Make API calls even when we ignore the responses to them
  * Do not process snapshots twice if an error occurred the first time
  * Only take snapshots if the snapshot is marked to be taken
  * Reduce the severity of unknown resource warnings
  * Remove some unused classes

  [ Rainer Laschober ]
  * do not generate error report when creating storage-pool on disconnecte [...]
  * fix javadoc issues
  * implement multiple network path functionality and test cases
  * cleanup code
  * change error into warning when deleting non-existent snapshot
  * implement prefNic check
  * Fixed NPEs when updating satellite-connections
  * fix setAllProps to do proper rollback on error and cleanup code
  * adapt method calls to perform retain operations instead of full delete
  * added method for deleting namespace
  * implement api for listing all key-value-stores, code cleanup
  * replace modifyKvsProps with modifyKvs and adjust corresponding .proto files
  * Added DeleteKeyValueStore API

  [ Roland Kammerer ]
  * build: add sles15 support
  * docker,controller: add python-all as dep
  * docker: prepare for multiple Dockerfiles
  * docker: dockerize satellite
  * packaging: try to create backup file
  * docker: allow specific version tags

  [ Robert Altnoeder ]
  * LockGuardFactory interface change, fixes & optimization
  * Added interface ProtectedObject
  * Changed ShutdownProtHolder so it implements the new ProtectedObject in [...]
  * Added command CmdChangeObjProt
  * Track connections in connecting state
  * CmdDisplayConnections: Add option to display pending connections
  * CmdDisplayConnections: Added attached debug console notice to ID details
  * Refactor: Rebranded a few method & variable names
  * Refactor spelling: priveleged -> privileged
  * Some database migration script fixes

 -- Rene Peinthor <rene.peinthor@linbit.com>  Fri, 15 Mar 2019 13:22:27 +0100

linstor-server (0.7.5-1) experimental; urgency=medium

  [ Joel Colledge ]
  * Fix node lost API when the node had snapshots
  * Do not check current storage pool when validating whether a new volume [...]

  [ Rene Peinthor ]
  * fix resource folder leak of Files.list()

 -- Rene Peinthor <rene.peinthor@linbit.com>  Fri, 21 Dec 2018 09:08:38 +0100

linstor-server (0.7.4-1) experimental; urgency=medium

  [ Robert Altnoeder ]
  * Added DB migration to fix SNAPSHOT_VOLUMES column
  * DeviceManager service: Fixed scope enter/exit bug
  * Fixed trace mode methods (fixes DeviceManager restarts)
  * Set valid volume number range [0, 65534]
  * Fixed worker queue size calculation
  * Limit resync percentage to a [0, 100] range
  * Satellite: Added check for a supported DRBD version
  * Fix STOR_POOL_NAME database column type
  * Unified exit codes

  [ Joel Colledge ]
  * Send response for snapshot change even when the resource is no longer  [...]
  * Update volume disk state inside try-catch block so that the response i [...]
  * Write logs to directory configured on the command line when writing to [...]
  * Add resource definition created for snapshot processing to global map
  * Only require the peer to be authenticated before sending API calls
  * Allow volumes to be created when the free capacity is not yet known ev [...]
  * Include error IDs in responses from fallback error handlers
  * Include asynchronous stage trace in error reports
  * Add low level fallback error handler so that uncaught errors do not st [...]
  * Let watches subscribe to more than 256 streams concurrently
  * Include thin volume allocated capacity in the volume list
  * Do not suppress existing error IDs in fallback error handler
  * Fix ZfsDriverTest to expect inclusion of 'used' column
  * Make access of in-use state of resources thread-safe
  * Simplify the API call handler ordering logic
  * Fix failure when the controller is under load from many peers
  * Tidy up message logging
  * Event handling no longer needs a scope
  * Add scope description to trace logging
  * Use an EmitterProcessor instead of limiting queue size directly with a [...]
  * Convert the Ping API to reactive style
  * Add option to migrate disk from another node when adding disk to diskl [...]
  * Make API calls singletons
  * Ensure that the storage pool kind is the same as on the peers when add [...]
  * Wait for connections to be established before treating a resource as ready
  * Save and restore node ID with snapshot

  [ Rene Peinthor ]
  * satellite: only generate linstor-resources.res if it doesn't exist

  [ Roland Kammerer ]
  * build,pkg: /etc/drbd.d/linstor-resources.res
  * packaging: bump drbd-utils to >= 9.7.0

  [ Gabor Hernadi ]
  * Removed unused controller arguments
  * Fixed missplaced == for comparing names
  * Fixed possible resource-leak

 -- Rene Peinthor <rene.peinthor@linbit.com>  Mon, 17 Dec 2018 11:17:59 +0100

linstor-server (0.7.3-1) experimental; urgency=medium

  [ Robert Altnoeder ]
  * Fixed DbConnectionPool initialization in a test
  * SQL fixes: Improved ANSI SQL compatibility
  * Added DatabaseInfo classes, DatabaseDriverInfo for DB2
  * Controller database fixes
  * Fix missing import for GenericDbUtils
  * Fix SQL migrations: resource connection flags & tcp_port column
  * Added class DrbdVersion - Check of the DRBD kernel module version
  * DrbdVersion: Indicate a failure to determine the DRBD version

  [ Rene Peinthor ]
  * unittest: fix db unittests
  * fix forgetting createResourceDb warnings
  * fix mixing implicit diskless resource with other storage types
  * node-reconnect: fix re-entering scope exception
  * whitelistprops: patch the resync-after property to a string prop
  * create-resource: need write lock for storpooldfnmap
  * swordfish: make sure resource/volume states are removed
  * node-reconnect: make sure node doesn't get removed from reconnector
  * drbd-event: update the current SyncTarget % status

  [ Gabor Hernadi ]
  * Swordfish: commiting setting node-name after fullSync
  * Fix: skip storPool-size-check in case of migration

  [ Joel Colledge ]
  * Add snapshot definition sequence number so that we know which the last [...]
  * Add snapshot rollback API
  * Fix deletion of snapshot when the volumes on which the snapshot was ba [...]
  * Fix rollback to snapshot when some volumes on which the snapshot was b [...]
  * Preserve the initial generation identifier across snapshot and restore
  * Allow resource creation on offline satellites without worrying about f [...]
  * Do not recursively delete ZFS snapshots when deleting volumes
  * Forward IDs of error reports from satellites
  * Include the first volume exception in the resource exception when ther [...]
  * Handle snapshot deletion before resource deletion
  * Fail resource and volume definition deletion when ZFS snapshots are present
  * Only prepare a DB transaction for the APIs that require one
  * Produce simpler errors when the database connection is down
  * Only send API calls when the satellite full-sync was successful

 -- Rene Peinthor <rene.peinthor@linbit.com>  Thu, 22 Nov 2018 11:19:50 +0100

linstor-server (0.7.2-1) experimental; urgency=medium

  [ Joel Colledge ]
  * Make volume definition resize synchronous
  * Create snapshots using reactive approach
  * Delete snapshots using reactive approach
  * Ensure security levels are set consistently for tests
  * Reload number pool auto-allocation ranges after loading properties fro [...]
  * Upgrade guice to 4.2.2 for better Java 10 and 11 support
  * Replace usage of deprecated Flyway features
  * Do not commit or rollback in Flyway migrations

  [ Rene Peinthor ]
  * db-init: set SECURITYLEVEL to NO_SECURITY
  * Add node reconnect API
  * auto-place: allow replicas-on-same to specify property values
  * linstor-common: use latest makefile changes
  * gradle: use same guice versions for extensions
  * Prevent creating resources/volumes with different storage drivers

  [ Gabor Hernadi ]
  * Swordfish: Commiting stltProps.NodeName on auth
  * Swordfish: Exclude specially handled status code
  * Swordfish: Redirect default toString to error generating toString
  * Swordfish: (re-)load json on reconfigure
  * Swordfish: (Re)set nodename in stltProps after FullSync
  * Satellite: setting shutdown-objProt

 -- Rene Peinthor <rene.peinthor@linbit.com>  Mon, 12 Nov 2018 09:44:37 +0100

linstor-server (0.7.1-2) experimental; urgency=medium

  [ Rene Peinthor ]
  * Fully clean intermediate build files 

 -- Rene Peinthor <rene.peinthor@linbit.com>  Tue, 06 Nov 2018 09:10:12 +0100

linstor-server (0.7.1-1) experimental; urgency=medium

  [ Joel Colledge ]
  * Remove thin volume from pending volumes when it has been deployed
  * Close resource deployment event stream when the resource is deleted

 -- Rene Peinthor <rene.peinthor@linbit.com>  Wed, 31 Oct 2018 12:11:19 +0100

linstor-server (0.7.0-1) experimental; urgency=medium

  [ Joel Colledge ]
  * Allow multiple resources to be created with a single API call
  * Make resource auto-place synchronous
  * Remove resource definition ready event which is no longer used
  * Remove unused RequestRscDfn code from the satellite
  * Make new node connection a little less racy
  * Remove unused skipSync method
  * Actually send the already initialized field with the primary request
  * Tidy up use of comparators in the stor pool selection
  * Extract free capacity fetching from the storage pool listing
  * Tidy up auto-place placement count decision logic
  * Auto-place using actual free capacity of thin pools
  * Tidy up some unused imports etc
  * Only fetch free capacities for thin pools and only track free capaciti [...]
  * Fix RscApiTest which now has a free capacity fetcher dependency
  * Supply oversubscription information with the max volume size query
  * Fix resource creation free capacity check to allow resources that cons [...]
  * Remove unused dependencies
  * Only fetch thin free capacity from nodes that have thin pools
  * Remove unused toggle disk methods and dependency
  * Make storage pool creation synchronous so that configuration errors ar [...]
  * Ensure that the satellite answers even when the request was made befor [...]
  * Add optional port field to resource connection to make proxy connectio [...]
  * Add configuration of DRBD proxy running locally
  * Fix test that expected address entries in the node sections rather tha [...]
  * Add configuration of DRBD Proxy options
  * Add configuration of DRBD Proxy compression plugins
  * Refuse to delete a node with snapshots
  * Delete snapshots when a node is lost

  [ Gabor Hernadi ]
  * Fixed usage of correct node namespace for storPool reconfiguration
  * Fixed possible "Access to deleted <object>"
  * Fix: prevent deletion of sf_t resource before sf_i resource
  * Fix: prevent multiple swordfish-target-resources per rscDfn
  * Upgraded FlyWay dependency to version 5.2
  * Made swordfish-initator-driver "diskless"
  * Fixed wrong swrodfish-volume-url
  * Drbdsetup events2 all now restarts when manually killed
  * Added missing return-code checks for swordfish-REST calls
  * Swordfish: Added centralized status-code check
  * Swordfish: Added meaningful volume states
  * Swordfish: Minor error-reporting changes
  * Swordfish: fixed state-checking issues
  * Fixed race-condition when creating storDriver
  * SwordfishDriver also reports volume-state after exception
  * Swordfish_Target nodetype does no longer try to move linstor_common.conf
  * Fixed race-condition in swordfish-driver
  * Fixed swordfish-state strings
  * Added TransactionSet class
  * Made FreeSpaceMgr's pendingVolumesToAdd transaction-safe
  * Swordfish: added "To: Creating" state
  * Swordfish: "Failed" state on unexpected response code
  * Swordfish: Fixed NOT_FOUND response handling in "volumeExists"
  * Swordfish: Actually calling the unexpectedRespCodeHandler
  * Swordfish: Decreased default timeout to 290 sec
  * Fixed race-condition in SF-driver and preventing DELETE with null volume-id
  * Swordfish: Fixed NPE
  * Swordfish: added configurable retry count and delay for 503 responses

  [ Rene Peinthor ]
  * storpool-freespace: fix null pointer exception if storage pool broken
  * controller: Add version mismatch satellites to the reconnector task
  * linstor-config,sql-script: read from stdin if no sql script was given
  * controller,ssl: resolve the keystore and trustdb file on config direct [...]
  * auto-place: do not try to deploy a diskless pool on any non SATELLITE  [...]
  * StateFlagsBits: allow more than one objectProtection
  * RscConn: Add flags to resource connections
  * RscCon: add a resource connection list API
  * StltResConDfnDriver: fix NPE
  * give swordfish target satellites a error report node name
  * swordfishtarget: create volume return is http 202
  * rsc-del: rework swordfish target check to a common diskfull/diskless check
  * drbdeventpublisher: remove unused method
  * use interfaces instead of implementation classes
  * swordfish-initiator: be more generous while deleting volumes
  * ctrlrscautoplaceapicallHandler: make isStorPoolUsable static
  * rsc-create: check storage pool if enough space is available
  * increase API_VERSION
  * swordfish-target: set log directory for error reports
  * linstorconfig: disable auto commit on sql-script command

  [ Robert Altnoeder ]
  * TcpConnectorService: Automatic fallback from loopback/anylocal IPv6 to IPv4

 -- Rene Peinthor <rene.peinthor@linbit.com>  Tue, 30 Oct 2018 10:30:35 +0100

linstor-server (0.6.5-1) experimental; urgency=medium

  [ Roland Kammerer ]
  * build,rpm: add myself back to changelog

  [ Robert Altnoeder ]
  * Added message size statistics
  * Adjusted CmdRunDeviceManager to changes in the device manager
  * Removed compile-time debugging from GenericTimer
  * API processing: bounds on active worker threads and queue size
  * Error reporting: Fixed DspRptLst debug command, replaced string litera [...]
  * Code cleanup
  * Fixed CmdDisplayReport: Adjusted to new instanceId format
  * CmdRunDeviceManager: Mark resources for update instead of resource def [...]
  * CmdRunDeviceManager: add a noop subscriber to the Flux object

  [ Rene Peinthor ]
  * apply-rsc-changes: Fix NPE if non existing rscconn is accessed
  * apicallreply: add occurred error report id to the api call respond
  * peer: set an PeerOffline for CONTROLLER | AUX node types
  * picocli: upgrade to version 3.6.0
  * cmdl-parsing: split common commandline parser into stlt and ctrl
  * make: create jar.deps depending on build.gradle
  * zfsthin: fix zfs thin reporting FAT provisioning
  * drbddevicehandler: allow deleting of resource with broken storage pool
  * thin_sync: fix initial thin resync

  [ Gabor Hernadi ]
  * Every api-message triggers a pongReceived()
  * Fixed possible NPE
  * Fixed ConcurrentModificationException
  * Removed unnecessary payload from ChangedController API
  * Fixed wrong SwordfishUserPw assignment typo
  * Increased swordfish timeout to 300 sec
  * Fixed swordfish stlt-port availability checking
  * PriorityProps: added renderRelativeMap method
  * Cleanups and minor changes required for DevLayers
  * Included Peer description in ErrorReporting
  * Fixed possible NPE
  * Extracted common swordfish methods
  * Updates to controller-props now re-configures ALL storDrivers
  * Removed incorrect and misleading comment

  [ Joel Colledge ]
  * Remove unnecessary defer wrapping
  * Remove barely used ScopeRunner convenience methods
  * Allow an arbitrary number of API calls to run simultaneously
  * Delete using reactive approach
  * Remove internal deletion notification messages which are no longer used
  * Automatically include the op return code fields and object references  [...]
  * Remove the volume clean flag which is no longer set
  * Respond to 'changed' calls which cause the dispatch of a given resourc [...]
  * Notify connection listeners after disconnecting a deleted node
  * Include peer in test error reporter header
  * Only initiate an initial sync when the DRBD meta data is new
  * Avoid deleting resources while iterating over them
  * Respond with separate errors for each storage pool when getting the fr [...]

 -- Rene Peinthor <rene.peinthor@linbit.com>  Tue, 02 Oct 2018 08:13:02 +0200

linstor-server (0.6.4-1) experimental; urgency=medium

  [ Rene Peinthor ]
  * zfsdriver-sizes: catch NumberformatException
  * CommonSerializer: add parseApiCallRc method
  * list-storpool: forward satellite errors to client
  * storage-driver: improve invalid configuration message
  * satellite: Allow a successful full sync with broken storage pool
  * linstor-common: improve the chance the atomic move will work
  * gradle: specify output file of versionInfo task
  * resource: add isDiskless() method
  * drbdDeviceHandler: do not attempt to generated metadata for diskless
  * error-reports: rework instance id

  [ Robert Altnoeder ]
  * Added nbproject to .gitignore, deleted build-impl.xml from index
  * Added class MdSuperblockBuffer
  * Added an additional check for DRBD meta data

  [ Gabor Hernadi ]
  * Fixed race condition in DevMgr

  [ Roland Kammerer ]
  * build,rpm: generate noarch packages

 -- Rene Peinthor <rene.peinthor@linbit.com>  Fri, 14 Sep 2018 08:58:59 +0200

linstor-server (0.6.3-1) experimental; urgency=medium

  [ Rene Peinthor ]
  * linstor-config: make sure the LINSTOR schema is set
  * nodeapidata: use ConnectionStatus enum
  * err-list: Fix null pointer exception if node not connected
  * storpool-list: fix diskless storpool filtering
  * zfsdriver: fix incorrect total capacity reporting
  * zfsdriver: fix total capacity for sub datasets
  * zfsthindriver: add zfs thin driver
  * satellite: atomically write drbd res files
  * tests: fix guice SF_TARGET_PORT_POOL mock
  * swordfishtarget: resolve satellite start binary from class path
  * swordfishtarget: don't fail controller startup
  * node-lost: fix resource definition in delete state

  [ Gabor Hernadi ]
  * Added timeout for respawning drbd events2 stream
  * Fixed access to deleted volume
  * Removed special treatment for default diskless storage pool
  * Added whitelist storage drivers per node type
  * Fixed tests
  * Fixed controller: establishing connection to swordfish_target
  * Added --bind-address argument
  * Added swordfish_target node creation API
  * Fixed potential ConcurrentModificationException
  * Added .res file testing
  * Fixed satellite disconnect when extCmd takes long

 -- Rene Peinthor <rene.peinthor@linbit.com>  Mon, 10 Sep 2018 14:28:42 +0200

linstor-server (0.6.2-1) experimental; urgency=medium

  [ Gabor Hernadi ]
  * SwordfishTargetDriver: removes vlmDfn entry on deleteVolume
  * Ctrl: do not connect to Ctrl or Aux nodes

  [ Rene Peinthor ]
  * Fix missing SEC_ACL_MAP entries for freespacemgrs

 -- Rene Peinthor <rene.peinthor@linbit.com>  Mon, 03 Sep 2018 15:07:42 +0200

linstor-server (0.6.1-1) experimental; urgency=medium

  [ Rene Peinthor ]
  * gradle: also add lib/* to linstor-config cp tool startup script
  * db: fix broken freespace manager migration script
  * Fix NPE if node currently doesn't have a peer

  [ Gabor Hernadi ]
  * Added 1 hour db-connection idle timeout

 -- Rene Peinthor <rene.peinthor@linbit.com>  Mon, 03 Sep 2018 11:07:48 +0200

linstor-server (0.6.0-1) experimental; urgency=medium

  [ Joel Colledge ]
  * Create resource using reactive approach
  * Clear up resource create name validation
  * Correct resource modified message
  * Resolve storage pool at volume creation
  * Fix querying of LVM thin pool total capacity
  * Add API to add a disk to a diskless resource
  * Fix tests to expect new disk add flags
  * Add API to remove a disk making a resource diskless
  * Fall back to default when the free space manager name is empty
  * Avoid tracking free space on satellites and ensure storage pools on di [...]
  * Fix resource deletion by not tracking pending volume deletion
  * Drop buffered messages when the peer is no longer connected
  * Avoid contacting satellites before committing node deletion and loss
  * Add object protection for free space managers for existing storage poo [...]
  * Remove storage pool property which just duplicated the storage pool name
  * Send resources to satellites even when they have no volumes
  * Make generation of API classes a dependency of the server subproject r [...]
  * Do not expect resources that are diskless everywhere to ever be ready
  * Improve messages for resource create and toggle disk
  * Fix resource create API test so that it expects the warning for no volumes
  * Add property normalization step so that boolean properties are easier  [...]
  * Add property to allow underlying volume to be larger than expected
  * Differentiate between yes/no and true/false booleans
  * Fix resource create peer added message
  * Make sure toggle disk continues even if it was stopped while the trans [...]
  * Remove toggle disk notification messages when for updates that don't h [...]
  * Add support for resources without DRBD determined by storage driver kind

  [ Rene Peinthor ]
  * make: do not transform symlinks
  * remove nebula.ospackage plugin
  * work with symlinks for offline builds
  * gradle/controller: add all jars in lib/ to classpath
  * gradle: remove duplicate startup tasks
  * linstorconfig: add command to run sql scripts
  * sql: fix incorrect storage pool name length

  [ Gabor Hernadi ]
  * .gitignore: added eclipse-specific paths
  * Removed unnecessary casts to StorPoolData
  * Added realSize to VolumeData
  * Added shared StorPools
  * Extracted crypt feature to separate class / interface
  * Added swordfish storage driver
  * Removed unnecessary FIXME from ExtCmd
  * Fixed property bug
  * Added finer tuning options for swordfish driver
  * Fixed exception when swordfish.json is empty
  * Fixed wrong swordfish KEY references in submodule
  * Fixed minor swordfish bugs
  * Swordfish: added synchronization for persisting JSON data
  * Swordfish: driver can now continue with half-created volume
  * Fixed source snapshotname from migrated resource
  * Added -k or --keep-res argument
  * StorageDrivers can now write into VolumeDefinition's Props
  * Split SwordfishDriver into *TargetDriver and *InitiatorDriver
  * Added --port and --skip-hostname-check CLI args
  * Fixed broken tests
  * SwordfishDriver: added additional check

 -- Rene Peinthor <rene.peinthor@linbit.com>  Fri, 31 Aug 2018 13:01:18 +0200

linstor-server (0.5.0-1) experimental; urgency=medium

  [ Joel Colledge ]
  * Collect real free space information from LVM thin pools
  * Extract satellite updating from AbsApiCallHandler
  * Extract name parsing utils from AbsApiCallHandler
  * Extract response utils from AbsApiCallHandler
  * Extract props methods from AbsApiCallHandler
  * Delete unused classes
  * Extract transaction commit method from AbsApiCallHandler
  * Load directly from parent objects instead of using factories
  * Remove AbsApiCallHandler
  * Fix some checkstyle warnings in the controller API call handling code
  * Simplify tracking of resources to dispatch
  * Remove the direct dependency of WorkerPool on DbConnectionPool
  * Remove the direct dependency of ControllerTransactionMgr on DbConnectionPool
  * Move DB classes into the controller project
  * Move DB migration resources into the controller project
  * Simplify tracking of resources to dispatch
  * Load controller and satellite props at startup
  * Load DB objects at startup
  * Start the DB and load security objects explicitly at startup
  * Initialize number pools at startup
  * Initialize diskless stor pool at startup
  * Fix test that expected the default stor pool which is no longer used i [...]
  * Fix starting the controller without the debug console
  * Introduce reactor, using it to collect free space from storage pools
  * Ensure that the satellite exits with a non-zero exit code when it fail [...]
  * Allow the node ID to be overridden when creating resources
  * Integrate the events system with reactor

  [ Rene Peinthor ]
  * netif: add stlt port and encryption type in protobuf messages
  * error-report: show node name in report
  * move RANGE_PATTERN to a better location
  * cleanup imports
  * move CONTROLLER_PROPS, SATELLITE_PROPS identifier to LinStor class
  * use LinStor.SATELLITE_PROPS instead of SatelliteCoreModule.
  * split project into server, satellite, controller sub-projects
  * move LinstorConfig to controller project
  * move database dependencies to controller project
  * set same version for all subprojects
  * copy libraries from all sub-projects
  * gradle: fix deprecated syntax
  * git: explicit .gitignore file
  * gradle: enable the idea plugin
  * unittests: generate error logs into `build/test-logs`
  * code cleanup
  * storpool: update satellites that their storagepool was deleted.
  * conffilebuilder: write peer-device options to common conf
  * conffilebuilder: allow setting of peer-device options on rscdfn
  * conffilebuilder: fix missing option section for resource options
  * deb: correctly distribute .jar files to packages
  * rpm: correctly distribute jar files to packages
  * SslTcpConnectorPeer: remove unused msgState assignment
  * TcpConnectorPeer: use nextInMessage() method to update msg counter
  * error-report-api: redone with reactive library
  * update submodule ref
  * conffilebuilder: fix duplicate disk section in connection section
  * database: add support for mariadb/mysql
  * allow new-peer('net') options on resource connections
  * satellite: change linstor drbd.res file directory to /var/lib/linstor.d
  * report total capacity for storage pools
  * storpool: rename free_space to free_capacity
  * linstor-config: improve error message on invalid database.cfg file
  * bump api version to 2

  [ Gabor Hernadi ]
  * Rework netcom implemenation, fixes SSL communication

  [ Roland Kammerer ]
  * build: add drbd-utils as dependency for satellite
  * build: add proper rpm packaging
  * build,rpm: use more idiomatic vars
  * diffcopy.py: add file

 -- Rene Peinthor <rene.peinthor@linbit.com>  Thu, 16 Aug 2018 09:58:55 +0200

linstor-server (0.2.6-1) experimental; urgency=medium

  [ Rene Peinthor ]
  * cmd-parser: don't fail if config directory doesn't exist

 -- Rene Peinthor <rene.peinthor@linbit.com>  Tue, 24 Jul 2018 13:43:44 +0200

linstor-server (0.2.5-1) experimental; urgency=medium

  [ Joel Colledge ]
  * Check for the protoc binary when executing the task rather than when c [...]
  * Tidy up Java generation tasks
  * Explicitly exclude Java generation from the debian build rules because [...]

  [ Roland Kammerer ]
  * debian: add python as builddep

  [ Rene Peinthor ]
  * resourcedfn: add hasDiskless method
  * rscdfn: only remove the primary flag if rscdfn is not deleted anyway
  * rscdfn: on delete first try to delete diskless resources
  * make the error (which it isn't) a warning

 -- Rene Peinthor <rene.peinthor@linbit.com>  Fri, 20 Jul 2018 08:01:28 +0200

linstor-server (0.2.4-1) experimental; urgency=medium

  [ Joel Colledge ]
  * Enable resize of underlying storage volumes
  * Enable resize of DRBD volumes
  * Add a volume definition resize flag so that the client can show a resi [...]
  * Fix storage driver tests to match behavior introduced for volume resize
  * Explain unexpected resize size situation
  * Use driver kind provisioning trait instead of duplicated trait in driver
  * Do not send restored resources to satellites when no volumes are present
  * Fix prioritization of storage pools with more free space when auto-placing.
  * Do not send any free space for LVM thin pools because the data is not useful
  * Indicate in the max volume size query whether the pool is thin
  * Allow auto-placement in thin pools even though they have unknown free space.
  * Error message when loading a node should not depend on current API call type
  * Simplify API call handler answering and error handling helpers
  * Remove variables from API call response since the original format stri [...]
  * Remove mutable state from controller API call handlers
  * Use 'register' terminology for entity creation when the entity has a c [...]
  * Do not try to auto-place on nodes which are not connected
  * Fix auto-place test such that the mock peer is connected
  * Simplify logic for auto-place selection based on property values
  * Remove unnecessary driver loading method.
  * Check for the protoc binary when executing the task rather than when c [...]

  [ Gabor Hernadi ]
  * Add OverrideVlmId property
  * Fix: Initial drbd status
  * Moved apicallhandlers in dedicated packages
  * Extract auto-select feature
  * Add qryMaxVlmSize feature
  * Fixed wrong proto msg for maxSize-reply
  * Extracted AutoSelectFilter-ProtoMsg
  * Add disklessOnRemaining for RscAutoPlace
  * Fix: LvmDriver
  * Unified internal structures in AutoSelector
  * Made AutoPlace idempotent.
  * Refactored AutoPlace calling CtrlRscApiCallHandler
  * ConfFileBuilder
  * Improved error reporting for AbsStorDriver.delete
  * Fixed hung resource creation
  * Fixed object order when requesting changed data
  * Fixed potential nullpointer access
  * DrbdDeviceHandler tries 'drbdsetup down' more eagerly

  [ Rene Peinthor ]
  * api-serialization: remove a layer of abstraction
  * stlt/hostname: add hostname satellite api call
  * allow sub datasets to be used for zfs storage pools
  * Fix incorrect checking of zfs extend size [BREAKS old ZFS]
  * maxvlmsize: fix incorrect protobuf deserialization
  * gradle-rpm: add firewalld service files for linstor and drbd
  * proto-api: send parser apicall error if protobuf parsing failed
  * gradle: simplify startscript creation
  * gradle: fix missing start scripts in .tar/.zip
  * commandline: add --logs and rework --controller-directory
  * rsc-list: filter resources states data too
  * rscapi: fix access to deleted data
  * drbdevents: volume destroyed was also send for destroyed peer connections
  * fix incorrect indention
  * event-generator: withSatelliteState should acquire a writeLock
  * ctrl-stlt: ensure no apply updates run while fullsync in progress
  * stltupdaterequester: do not access getLocalNode() for the controller Peer
  * remove unnecessary string concat

  [ Robert Altnoeder ]
  * Fix controller notification about deleted resources when free space re [...]
  * Hotfix: Report PROV_THIN for LvmThinDriver.
  * Added DRBD metadata generation ID generator
  * Generation of an initial DRBD current GI for each volume definition
  * Updated nbproject/build-impl.xml
  * Skip the initial sync of thinly provisioned volumes
  * Skip the resync when resizing thin provisioned volumes
  * Added exception handling comment, slightly optimized value parsing
  * Fixed potential unit index off by one when formatting very large size values
  * Unified ...utils.LockSupport & ...locks.MultiLock into com.linbit.lock [...]
  * Fixed error message for invalid resource name, added error reporting fields
  * Replaced Class.newInstance() call, which has been marked deprecated in [...]
  * Removed replaced Class.newInstance() call

  [ Roland Kammerer ]
  * move from /opt to /usr/share
  * build: don't include test-libs in release tarballs
  * debian: initial debian packaging
  * build: add "release" target
  * linstor-satellite.service: fix typo
  * debian: add postinstall script
  * debian: pkg split
  * initial docker integration
  * build: allow FORCE=1 for dockerimage target
  * Dockerfile: initial lbbuild integration
  * build: dockerpath target

 -- Joel Colledge <joel.colledge@linbit.com>  Tue, 17 Jul 2018 14:39:06 +0200

linstor-server (0.2.3-1) experimental; urgency=medium

  * initial release

 -- Roland Kammerer <roland.kammerer@linbit.com>  Wed, 06 Jun 2018 15:13:14 +0200
